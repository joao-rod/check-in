{% extends 'base.html.twig' %}

{% block title %} Controle de marcações {% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('css/homepage.css') }}">
    <link rel="stylesheet" href="{{ asset('css/calendar.css') }}">
{% endblock %}

{% block body %}

    <div class="container flex justify-center space-x-6 mx-auto">
        <div id="entries" class="block max-w-sm p-6 bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700">
            {% set currentDate = "now"|date("d/m/Y") %}
            <h1 class="flex items-center justify-between mb-5 text-2xl font-semibold text-gray-600 dark:text-gray-400 dark:text-white">Marcações <span class="bg-purple-100 text-purple-700 text-sm font-semibold mr-2 px-2.5 py-0.5 rounded dark:bg-blue-200 dark:text-blue-800 ml-2">{{ currentDate }}</span></h1>


            <ol class="relative border-l border-gray-200 dark:border-gray-700">                  
                <li class="mb-10 ml-6">
                    <span class="absolute text-blue-500 flex items-center justify-center w-6 h-6 bg-blue-100 rounded-full -left-3 ring-8 ring-white dark:ring-gray-900 dark:bg-blue-900">
                        <i class="fa-solid fa-clock"></i>
                    </span>
    
                    <div class="p-4 bg-white border border-gray-200 rounded-lg shadow-sm dark:bg-gray-700 dark:border-gray-600">
                        <div class="items-center justify-between mb-3 sm:flex">
                            <div class="font-normal text-gray-500 lex dark:text-gray-300">
                                10:30 <span class="bg-green-100 text-green-800 text-xs font-normal px-2.5 py-0.5 rounded dark:bg-gray-600 dark:text-gray-300">Entrada</span>
                            </div>
                        </div>

                        {% if false %}
                            <div class="p-3 text-xs italic font-normal text-gray-500 border border-gray-200 rounded-lg bg-gray-50 dark:bg-gray-600 dark:border-gray-500 dark:text-gray-300">
                                Saída para ir ao IF
                            </div>
                        {% endif %}
                    </div>
                </li>
    
                <li class="mb-10 ml-6">
                    <span class="absolute text-blue-500 flex items-center justify-center w-6 h-6 bg-blue-100 rounded-full -left-3 ring-8 ring-white dark:ring-gray-900 dark:bg-blue-900">
                        <i class="fa-solid fa-clock"></i>
                    </span>
    
                    <div class="p-4 bg-white border border-gray-200 rounded-lg shadow-sm dark:bg-gray-700 dark:border-gray-600">
                        <div class="items-center justify-between mb-3 sm:flex">
                            <div class="font-normal text-gray-500 lex dark:text-gray-300">
                                12:30 <span class="bg-red-100 text-red-800 text-xs font-normal px-2.5 py-0.5 rounded dark:bg-gray-600 dark:text-gray-300">Saída</span>
                            </div>
                        </div>

                        {% if true %}
                            <div class="p-3 text-xs italic font-normal text-gray-500 border border-gray-200 rounded-lg bg-gray-50 dark:bg-gray-600 dark:border-gray-500 dark:text-gray-300">
                                Saída para ir ao IF
                            </div>
                        {% endif %} 
                    </div>
                </li>
            </ol>
        </div>

        <div class="clock-container">
            <div class="flex space-x-6">
                <div class="w-full block mb-5 text-center max-w-sm p-6 bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700">
                    <h5>Horas trabalhadas</h5>
                </div>

                <div class="w-full block mb-5 text-center max-w-sm p-6 bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700">
                    <h5>Previsão de saída</h5>
                </div>
            </div>

            <div class="w-full block text-center p-6 bg-white mt-5 border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700">
                <div id="calendar"></div>
            </div>
        </div>

        <div id="entries" class="block max-w-sm space-y-6 p-6 bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700">
            <h1 class="flex items-center justify-between mb-5 text-2xl font-semibold text-gray-600 dark:text-gray-400 dark:text-white">Horário</h1>

            <div class="w-full block text-center p-6 bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700">
                <h1 class="text-5xl font-extrabold text-gray-900 dark:text-white">
                    <span id="clock" class="text-transparent bg-clip-text bg-gradient-to-br from-purple-600 to-blue-500"> -- -- -- </span>
                </h1>

                <script src="{{ asset('js/clock.js') }}"></script>
            </div>

            <div class="w-full block text-center max-w-sm p-6 bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700">
                <h5>Card informativo</h5>
            </div>

            <div class="w-full block text-center max-w-sm p-6 bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700">
                <h5>Card informativo</h5>
            </div>

            <div class="w-full block text-center max-w-sm p-6 bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700">
                <h5>Card informativo</h5>
            </div>
        </div>
    </div>

{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var calendarEl = document.getElementById('calendar');
            var calendar = new FullCalendar.Calendar(calendarEl, {
                initialView: 'dayGridMonth',
                dayMaxEvents: true,
                buttonText: {
                    today: 'Hoje',
                },
            });
            calendar.render();
        });
    </script>

    <script>
        $(document).ready(function () {
            $('.fc-toolbar-chunk button').addClass('mb-5 text-2xl font-semibold text-gray-600 dark:text-gray-400 dark:text-white');
            $('.fc-toolbar-title').addClass('mb-5 text-2xl font-semibold text-gray-600 dark:text-gray-400 dark:text-white');
            $('.fc-day').addClass('font-normal text-gray-800 lex dark:text-gray-300');
            $('.fc-col-header-cell').addClass('bg-purple-100');
            $('.fc-col-header-cell-cushion').addClass('text-purple-700 text-sm font-semibold');
        });
    </script>
{% endblock %}